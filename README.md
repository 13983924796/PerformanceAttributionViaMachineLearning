# PerformanceAttributionViaMachineLearning
### 0. 工作意义
### 1. 模块分工
### 1.1.因子数据收集factor 1.2.因子合成signal 
### 1.3.因子回测backtest 1.4.业绩归因 attribution

#### 1.1.1 因子数据收集目标
##### 收集各类日频因子，将各类因子信息整合为统一格式，对因子信息进行预处理。以价量因子为主——价包括高开低收，量包括成交量、成交额等
#### 1.1.2 因子数据收集步骤拆解
##### A.整合因子信息为统一格式
##### getFactorInfo
##### 对于不同文件格式的因子集，整合为一个类似于struct的结构，
##### 属性包括因子名称，因子类型，因子计算方式，因子值格式为个股*时间的二维矩阵
##### B.对因子矩阵进行预处理
##### slicefactor
##### 根据股票池、时间等限制对factor matrix进行切片
##### preprocessing
##### 对于因子切片数据进行预处理
##### a.遮罩：剔除上市未满一年、ST、涨跌停的股票等
##### b.极值处理、中性化与标准化处理等

#### 1.2.1因子合成目标
##### 用机器学习的算法，将日频因子合成为信号，以便后面按照因子值排序构建组合
#### 1.2.2 因子合成步骤拆解
##### 机器学习模型分类
##### A.线性模型（OLS、Ridge、Lasso）
##### B.树模型（RandonForest，XGBoost，LGBM）
##### C.神经网络（CNN,KNN,e.g.）
##### 训练，测试，调参

#### 1.3.1 因子回测目标
##### 接收signal模块的信号，通过long only或者long short的方法构建投资策略
#### 1.3.2 因子回测步骤拆解
##### A.分层回测，计算因子有效性IC ICIR
##### B.根据策略计算收益率序列
##### C.求净值序列的业绩表现，画图

#### 1.4.1 业绩归因目标
##### 将市面上的量化私募基金周度净值数据拿过来，以步骤3中的各类机器学习模型的净值曲线为benchmark，比较净值曲线的相似性。
##### 输入数据为各类机器学习策略的净值曲线，输出为私募净值数据与本策略的相似度两类相似度衡量方法
##### 方法一：相关系数
##### 方法二：回归求残差alpha，alpha越小解释力度越高
